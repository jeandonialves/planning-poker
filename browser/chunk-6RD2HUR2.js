import{k as E,l as k,m as I}from"./chunk-LG445TGW.js";import{Ba as S,D as s,F as C,K as f,L as P,T as m,Y as d,_ as p,aa as e,ba as n,ca as g,da as y,ea as v,fa as M,ga as l,ha as _,ia as o,ja as O,ka as u,ma as x,ua as b,va as h,wa as w,za as R}from"./chunk-CNLPTVOZ.js";import"./chunk-3VKTXT47.js";import"./chunk-GKK2QUJP.js";function F(r,i){if(r&1&&(e(0,"span"),o(1),n()),r&2){let a=_().$implicit;m(),O(a.estimated)}}function H(r,i){r&1&&(e(0,"span"),o(1,"Planning"),g(2,"br"),o(3,"Poker"),n())}function U(r,i){r&1&&(e(0,"span"),o(1,"\u2705"),n())}function j(r,i){if(r&1&&(e(0,"div",25)(1,"div",26),d(2,F,2,1,"span",24)(3,H,4,0,"span",24),n(),e(4,"p",27),o(5),d(6,U,2,0,"span",24),n()()),r&2){let a=i.$implicit,t=_();m(2),p("ngIf",t.room==null?null:t.room.displayEstimates),m(),p("ngIf",!(t.room!=null&&t.room.displayEstimates)),m(2),u(" ",a.name," "),m(),p("ngIf",a.estimated)}}function D(r,i){if(r&1){let a=M();y(0),e(1,"div",28)(2,"div",29)(3,"h1",30),o(4,"Planning Poker"),n(),e(5,"p",31),o(6,"Estime tarefas com precis\xE3o e agilidade, juntos!"),n(),g(7,"br")(8,"br"),e(9,"app-user-form",32),l("submit$",function(){f(a);let c=_();return P(c.submitUserForm())}),n()()(),v()}}var T=class r{showUserForm=!1;players=[];room;idRoom;router=s(S);activatedRoute=s(R);playerService=s(E);roomService=s(I);constructor(){this.idRoom=this.activatedRoute.snapshot.params.id,this.getRoomById(this.idRoom),this.getPlayersInRoom(),this.getRoom()}submitUserForm(){this.showUserForm=!1,this.roomService.addPlayer(this.idRoom)}displayEstimatesHandler(){this.roomService.updateDisplayEstimated(this.idRoom,!0)}deleteEstimate(){this.roomService.updateDisplayEstimated(this.idRoom,!1),this.roomService.deleteEstimates(this.idRoom).subscribe()}estimatedHandler(i){this.roomService.updateEstimate(this.idRoom,i)}leave(){this.roomService.leave(this.idRoom),this.router.navigateByUrl("/")}get playerName(){let i=this.playerService.get();return i?i.name:""}getRoomById(i){this.roomService.getById(i).subscribe(a=>{if(!a.exists()){this.router.navigate(["**"]);return}if(!this.playerService.get()){this.showUserForm=!0;return}let t=this.playerService.get();if(!t)return;let c=a.val();(!c.players||!c.players[t.id])&&this.roomService.addPlayer(this.idRoom)})}getPlayersInRoom(){this.roomService.getPlayers(this.idRoom).subscribe(i=>{this.players=i})}getRoom(){this.roomService.getRoom(this.idRoom).subscribe(i=>{this.room=i})}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=C({type:r,selectors:[["app-room"]],standalone:!0,features:[x],decls:39,vars:3,consts:[[1,"room-page"],[1,"gradient","shadow-lg"],[1,"wrapper-page"],[1,"header","shadow-lg"],[1,"container"],[1,"text"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","btn-sm","dropdown-toggle"],[1,"dropdown-menu"],["type","button",1,"dropdown-item",3,"click"],[1,"container-page"],[1,"inner-container"],[1,"actions"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"players"],["class","player",4,"ngFor","ngForOf"],[1,"cards"],[1,"card","bg-primary-subtle","shadow",3,"click"],[1,"card","bg-secondary-subtle","shadow",3,"click"],[1,"card","bg-success-subtle","shadow",3,"click"],[1,"card","bg-info-subtle","shadow",3,"click"],[1,"card","bg-warning-subtle","shadow",3,"click"],[1,"card","bg-danger-subtle","shadow",3,"click"],[4,"ngIf"],[1,"player"],[1,"card"],[1,"text-center","text-primary-emphasis"],[1,"modal-container"],[1,"modal-body-container"],[1,"h3"],[1,"text-body-secondary"],[3,"submit$"]],template:function(a,t){a&1&&(e(0,"div",0),g(1,"div",1),e(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),o(7,"Planning Poker"),n()(),e(8,"div",6)(9,"button",7),o(10),n(),e(11,"ul",8)(12,"li")(13,"button",9),l("click",function(){return t.leave()}),o(14," Sair "),n()()()()()(),e(15,"div",10)(16,"div",4)(17,"div",11)(18,"div",12)(19,"button",13),l("click",function(){return t.displayEstimatesHandler()}),o(20," Exibir "),n(),e(21,"button",14),l("click",function(){return t.deleteEstimate()}),o(22," Deletar estimativas "),n()(),e(23,"div",15),d(24,j,7,4,"div",16),n(),e(25,"div",17)(26,"button",18),l("click",function(){return t.estimatedHandler("1")}),o(27," 1 "),n(),e(28,"button",19),l("click",function(){return t.estimatedHandler("2")}),o(29," 2 "),n(),e(30,"button",20),l("click",function(){return t.estimatedHandler("3")}),o(31," 3 "),n(),e(32,"button",21),l("click",function(){return t.estimatedHandler("5")}),o(33," 5 "),n(),e(34,"button",22),l("click",function(){return t.estimatedHandler("8")}),o(35," 8 "),n(),e(36,"button",23),l("click",function(){return t.estimatedHandler("13")}),o(37," 13 "),n()()()()()()(),d(38,D,10,0,"ng-container",24)),a&2&&(m(10),u(" ",t.playerName," "),m(14),p("ngForOf",t.players),m(14),p("ngIf",t.showUserForm))},dependencies:[w,b,h,k],styles:[".room-page[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:row}.room-page[_ngcontent-%COMP%] > .gradient[_ngcontent-%COMP%]{width:20px;background-image:radial-gradient(circle at 71.41% 95.91%,#4967da 0,#084198,#001e5b)}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:45px}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-weight:600}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]{flex:1;display:flex}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex:1}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;gap:16px;align-items:center}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]{flex:5;display:flex;gap:32px;flex-wrap:wrap}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{min-width:150px;display:flex;flex-direction:column;gap:12px}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .players[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{min-height:200px;display:flex;align-items:center;justify-content:center}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{flex:2;display:flex;gap:16px;padding-bottom:16px;flex-wrap:wrap}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;min-width:100px}.room-page[_ngcontent-%COMP%] > .wrapper-page[_ngcontent-%COMP%] > .container-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:var(--bs-box-shadow-lg)!important}.modal-container[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#00000080;z-index:2;left:0;top:0}.modal-container[_ngcontent-%COMP%] > .modal-body-container[_ngcontent-%COMP%]{padding:32px;background-color:#fff;border-radius:4px;min-width:320px;margin:20px}"]})};export{T as RoomComponent};
